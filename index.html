<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- JQUERY -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <!-- Customized CSS -->
    <link rel="stylesheet" href="index.css">
    <title>Tracker</title>
</head>
<body>
    <div class="container">
        <!-- TASK NAME -->
        <div class="row taskName-padding">
            <h1>Task Name</h1>
            <div class="input-group mb-3">
                <input type="text" class="form-control" id="new-task-title">
                <button class="btn btn-outline-secondary add-style" id="new-task" type="button">Add</button>
            </div>
        </div>
        <!-- TASK LIST -->
        <div class="row taskList-padding">
            <div class="row dropdown-padding">
                <div class="col">
                    <h1>Task List</h1>
                </div>
                <div class="col-5 dropdown-padding">
                    <select class="form-select" id="filter">
                        <option selected></option>
                        <option value="1">Recently Added</option>
                        <option value="2">Shortest Task</option>
                      </select>
                </div>
            </div>
        </div>  
        <ul>
            <li>
                <div class="card">
                    <div class="card-body">
                        <div class="row">
                            <!-- TASK TEXT -->
                            <div class="col text-style">
                                <p class="p-margin">
                                    游놓 Fix Start and End Timer 游놓
                                </p>
                            </div>
                            <!-- START AND END BUTTONS -->
                            <div class="col-3">
                                <div class="row">
                                    <button type="button" class="btn btn-secondary start-style">Start</button>
                                </div>
                                <div class="row button-padding">
                                    <button type="button" class="btn btn-secondary end-style">End</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </li>
            <li>
                <div class="card">
                    <div class="card-body">
                        <div class="row">
                            <!-- TASK TEXT -->
                            <div class="col text-style">
                                <p class="p-margin">
                                    游놓 Filterning 游놓
                                </p>
                            </div>
                            <!-- START AND END BUTTONS -->
                            <div class="col-3">
                                <div class="row">
                                    <button type="button" class="btn btn-secondary start-style">Start</button>
                                </div>
                                <div class="row button-padding">
                                    <button type="button" class="btn btn-secondary end-style">End</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </li>
        </ul>
        
        <!-- SUMMARY -->
        <div class="row summary-padding">
            <h4>Summary: </h4>
        </div>
    </div>
</body>

<script>
    $(document).ready(function(){
        var taskDetails = []
        var count = 0;
        // Creating new task, added task appends to list
        $("#new-task").click(function(){
            var newTaskTitle = document.getElementById("new-task-title").value
            if(newTaskTitle != ''){
                console.log(newTaskTitle)
                $("ul").prepend("<li><div class='card'><div class='card-body'><div class='row'><div class='col text-style'><p class='p-margin'>游놓 " + newTaskTitle + " 游놓</p></div><div class='col-3'><div class='row'><button type='button' class='btn btn-secondary start-style'>Start</button></div><div class='row button-padding'><button type='button' class='btn btn-secondary end-style'>End</button></div></div></div></div></div></li>"); 
                document.getElementById('new-task-title').value = ''
                taskDetails.push({key: count++, name: newTaskTitle, duration: null})
                console.log(taskDetails)
            } else {
                alert("No Task!")
            }
        });

        // Filtering 
        $("#filter").change(function(){
            // console.log("HELLO")
            // console.log(taskDetails.sort((function(a, b){return b - a})))
            var id = $(this).val();
            var text = $('option:selected', this).text(); //to get selected text
            console.log(id + "SAD" + text)

            if(text == "Shortest Task"){
                console.log(taskDetails.sort())
            }

            // 
        });


        
        // $(document).on("click", "a.remove" , function() {
        //     $(this).parent().remove();
        // });
    });
</script>
</html>